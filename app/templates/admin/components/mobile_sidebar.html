<!-- Sidebar -->
<aside
  x-show="sidebarOpen"
  x-transition:enter="transition duration-300 transform"
  x-transition:enter-start="-translate-x-full"
  x-transition:enter-end="translate-x-0"
  x-transition:leave="transition duration-300 transform"
  x-transition:leave-start="translate-x-0"
  x-transition:leave-end="-translate-x-full"
  class="fixed inset-y-0 left-0 w-64 bg-white shadow-md z-50 h-screen overflow-y-auto md:hidden"
>
  <div class="flex flex-col min-h-full p-6">
    <h2 class="text-2xl font-bold text-green-700 mb-6">Monitoring Panel</h2>
    <nav class="flex-1 space-y-2">
      <a href="/dashboard" :class="window.location.pathname==='/dashboard'?'bg-green-100 text-green-700':'text-gray-700 hover:bg-green-100'" class="flex items-center px-4 py-2 rounded">
        <i data-lucide="home" class="lucide w-5 h-5 mr-3"></i> Dashboard
      </a>
    </nav>

    <!-- Active Updaters Sidebar Block -->
    <div class="hidden lg:flex flex-col bg-white shadow-lg border-t">
      <!-- Header -->
      <div class="px-4 py-3 border-b flex items-center gap-2">
        <i data-lucide="users" class="w-5 h-5 text-green-600"></i>
        <h2 class="text-sm font-semibold text-gray-700">Users Who Updated Today</h2>
      </div>

      <!-- Users List -->
      <div class="p-4 flex-1">
        <template x-if="usersWhoUpdatedToday().length > 0">
          <ul class="space-y-2">
            <template x-for="entry in usersWhoUpdatedToday()" :key="entry.user">
              <li class="flex justify-between items-center bg-green-50 px-3 py-2 rounded-md shadow-sm hover:bg-green-100 transition">
                <span class="text-sm font-medium truncate" x-text="entry.user"></span>
                <span class="bg-green-200 text-green-800 text-[11px] px-2 py-0.5 rounded-full font-semibold" x-text="entry.count"></span>
              </li>
            </template>
          </ul>
        </template>

        <template x-if="usersWhoUpdatedToday().length === 0">
          <div class="text-center text-gray-400 italic text-sm py-4">
            No updates yet today
          </div>
        </template>
      </div>
    </div>
    
    <a href="/auth/logout" class="mt-auto block px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600 text-center">Logout</a>
  </div>
</aside>

<!-- Overlay -->
<div
  x-show="sidebarOpen"
  x-transition.opacity
  @click="sidebarOpen=false"
  class="fixed inset-0 bg-black bg-opacity-25 z-40 md:hidden"
></div>
